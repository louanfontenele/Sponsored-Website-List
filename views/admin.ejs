<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Admin Panel</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-white text-black">
    <nav class="p-4 border-b">
      <a href="/" class="mr-4">Home</a>
      <a href="/contact" class="mr-4">Contact</a>
      <a href="/admin/users" class="mr-4">User Management</a>
    </nav>
    <div class="container mx-auto p-4">
      <h1 class="text-2xl font-bold mb-4">Admin Panel - Manage Links</h1>
      <table class="table w-full mb-4">
        <thead>
          <tr>
            <th>Domain</th>
            <th>D.A.</th>
            <th>Gambling</th>
            <th>Country</th>
            <th>Links</th>
            <th>Gambling Price</th>
            <th>General Price</th>
            <th>Tab</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% links.forEach(link => { %>
          <tr>
            <td><%= link.domain %></td>
            <td><%= link.da %></td>
            <td><%= link.gambling %></td>
            <td><%= link.country %></td>
            <td><%= link.links %></td>
            <td>$<%= link.gambling_price %></td>
            <td>$<%= link.general_price %></td>
            <td><%= link.tab %></td>
            <td>
              <!-- Exemplo: botão para remover o link -->
              <form
                action="/admin/delete/<%= link.id %>"
                method="POST"
                style="display: inline">
                <button class="bg-red-500 text-white px-2 py-1" type="submit">
                  Delete
                </button>
              </form>
              <!-- Botão para editar (pode ser aprimorado com modal ou redirecionamento para uma página de edição) -->
              <button
                onclick="alert('Edit functionality for ID: <%= link.id %> to be implemented')"
                class="bg-blue-500 text-white px-2 py-1">
                Edit
              </button>
            </td>
          </tr>
          <% }) %>
        </tbody>
      </table>
      <h2 class="text-xl mb-2">Add New Link</h2>
      <form
        action="/admin/add"
        method="POST"
        class="bg-gray-100 p-4 rounded shadow">
        <div class="grid grid-cols-2 gap-4">
          <div>
            <label>Domain:</label>
            <input
              type="text"
              name="domain"
              class="border p-2 w-full"
              required />
          </div>
          <div>
            <label>D.A.:</label>
            <input type="number" name="da" class="border p-2 w-full" required />
          </div>
          <div>
            <label>Gambling (state: unchecked, check, x):</label>
            <input
              type="text"
              name="gambling"
              class="border p-2 w-full"
              required />
          </div>
          <div>
            <label>Country:</label>
            <input
              type="text"
              name="country"
              class="border p-2 w-full"
              required />
          </div>
          <div>
            <label>Links:</label>
            <input
              type="number"
              name="links"
              class="border p-2 w-full"
              required />
          </div>
          <div>
            <label>Gambling Price (USD):</label>
            <input
              type="number"
              step="0.01"
              name="gambling_price"
              class="border p-2 w-full"
              required />
          </div>
          <div>
            <label>General Price (USD):</label>
            <input
              type="number"
              step="0.01"
              name="general_price"
              class="border p-2 w-full"
              required />
          </div>
          <div>
            <label>Tab (brazil_portugal, world, add_links):</label>
            <input type="text" name="tab" class="border p-2 w-full" required />
          </div>
        </div>
        <button type="submit" class="mt-4 bg-green-500 text-white px-4 py-2">
          Add Link
        </button>
      </form>
    </div>
  </body>
</html>
